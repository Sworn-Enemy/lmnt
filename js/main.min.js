"use strict";import Swiper from"https://unpkg.com/swiper@7/swiper-bundle.esm.browser.min.js";document.addEventListener("DOMContentLoaded",(()=>{let e=document.querySelectorAll(".smooth");for(let t=0;t<e.length;t++){const s=e[t];s.addEventListener("click",(e=>{e.preventDefault();let t=s.getAttribute("href").substr(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})}))}let t=document.querySelectorAll(".menu__item"),s="menu__item--hover",o="menu__item--unhover";t.forEach((e=>{e.addEventListener("mouseenter",(()=>{e.classList.contains(o)&&e.classList.remove(o),e.classList.add(s)})),e.addEventListener("mouseleave",(()=>{e.classList.contains(s)&&(e.classList.remove(s),e.classList.add(o))}))}));let c=document.querySelector(".contact-us"),l=document.querySelector(".contact-body");c.addEventListener("click",(()=>{c.classList.toggle("contact-us--click"),l.classList.toggle("contact-body--active")}));let i=document.querySelector(".header-modal__form"),n=document.querySelectorAll(".header-modal__input"),r=document.querySelector(".header-modal__checkbox"),a=document.querySelector(".check-box"),d=!0;i.addEventListener("submit",(e=>{e.preventDefault(),n.forEach((e=>{e.value&&e.value.trim()?(r.checked&&!0===d&&(a.classList.remove("err"),console.log("next logic"),d=!1),e.classList.remove("err")):e.classList.add("err"),r.checked||a.classList.add("err")}))}));let u=document.querySelector(".form"),m=document.querySelectorAll(".input"),_=document.querySelector(".lmnt-checkbox__input"),L=document.querySelector(".lmnt-checkbox__span"),v=!0;u.addEventListener("submit",(e=>{e.preventDefault(),m.forEach((e=>{e.value&&e.value.trim()?(_.checked&&!0===v&&(L.classList.remove("err"),console.log("next logic"),v=!1),e.classList.remove("err")):e.classList.add("err"),_.checked||L.classList.add("err")}))}));let p=document.querySelector(".plan__forme"),q=document.querySelectorAll(".plan__input"),g=document.querySelector(".lmnt-checkbox__plan-input"),y=document.querySelector(".lmnt-checkbox__plan-span"),h=!0;null!==p&&p.addEventListener("submit",(e=>{e.preventDefault(),q.forEach((e=>{e.value&&e.value.trim()?(g.checked&&!0===h&&(y.classList.remove("err"),console.log("next logic"),h=!1),e.classList.remove("err")):e.classList.add("err"),g.checked||y.classList.add("err")}))}));let S=document.querySelector(".contact-body__button"),b=document.querySelector(".header-modal"),f=document.querySelector(".header-modal__close");S.addEventListener("click",(()=>{b.classList.add("show"),document.body.classList.add("no-scroll")})),f.addEventListener("click",(()=>{b.classList.remove("show"),document.body.classList.remove("no-scroll")})),b.addEventListener("click",(e=>{e.target.classList.remove("show"),e.target.classList.contains("header-modal")&&document.body.classList.remove("no-scroll")}));let E=document.querySelector(".mobile-menu"),k=document.querySelector(".menu"),w=document.querySelector(".menu__cross");E.addEventListener("click",(()=>{k.classList.contains("open")||(k.classList.add("open"),j())})),w.addEventListener("click",(()=>{k.classList.contains("open")&&(k.classList.remove("open"),F())})),k.addEventListener("click",(()=>{k.classList.contains("open")&&(k.classList.remove("open"),F())}));const z={title:["Обсуждение проекта, составление moodboard'а и обмер помещения","Обсуждение проекта, составление moodboard'а и обмер помещения","Обсуждение проекта, составление moodboard'а и обмер помещения","Обсуждение проекта, составление moodboard'а и обмер помещения","Обсуждение проекта, составление moodboard'а и обмер помещения","Обсуждение проекта, составление moodboard'а и обмер помещения","Обсуждение проекта, составление moodboard'а и обмер помещения","Обсуждение проекта, составление moodboard'а и обмер помещения","Обсуждение проекта, составление moodboard'а и обмер помещения"],text:["Мы подбираем референсы и составляем коллажи на основе Ваших пожеланий и по принципу нравится/не нравится. Дизайнер выезжает на Ваш объект и производит подробный обмер помещения.","Мы подбираем референсы и составляем коллажи на основе Ваших пожеланий и по принципу нравится/не нравится. Дизайнер выезжает на Ваш объект и производит подробный обмер помещения.","Мы подбираем референсы и составляем коллажи на основе Ваших пожеланий и по принципу нравится/не нравится. Дизайнер выезжает на Ваш объект и производит подробный обмер помещения.","Мы подбираем референсы и составляем коллажи на основе Ваших пожеланий и по принципу нравится/не нравится. Дизайнер выезжает на Ваш объект и производит подробный обмер помещения.","Мы подбираем референсы и составляем коллажи на основе Ваших пожеланий и по принципу нравится/не нравится. Дизайнер выезжает на Ваш объект и производит подробный обмер помещения.","Мы подбираем референсы и составляем коллажи на основе Ваших пожеланий и по принципу нравится/не нравится. Дизайнер выезжает на Ваш объект и производит подробный обмер помещения.","Мы подбираем референсы и составляем коллажи на основе Ваших пожеланий и по принципу нравится/не нравится. Дизайнер выезжает на Ваш объект и производит подробный обмер помещения.","Мы подбираем референсы и составляем коллажи на основе Ваших пожеланий и по принципу нравится/не нравится. Дизайнер выезжает на Ваш объект и производит подробный обмер помещения.","Мы подбираем референсы и составляем коллажи на основе Ваших пожеланий и по принципу нравится/не нравится. Дизайнер выезжает на Ваш объект и производит подробный обмер помещения."],progress:["6.7","21.9","42.1","49.7","75.9","86.2","90.9","95.0","100.0"]};let x=document.querySelector(".stage"),A=document.querySelectorAll(".stage-interact__button"),T=document.querySelectorAll(".stage__item"),D=document.querySelector(".stage-interact__title"),B=document.querySelector(".stage-interact__text"),M=document.querySelector(".progress-bar__track"),H=z.progress,V=0,W=1,I=[],P=700;function $(e,t,s=1e3){e.classList.remove("next"),setTimeout((()=>{e.innerText=t,e.classList.add("next")}),s)}(()=>{let e=T;for(let t=0;t<e.length;t++){const s=e[t];I[s.dataset.index-1]=e[t]}})(),A.forEach((e=>{e.addEventListener("click",(e=>{e.target.classList.contains("next")&&W<T.length&&(I[W].classList.add("active"),$(D,z.title[W],P),$(B,z.text[W],P),M.style.width=H[W]+"%",W++,W>=T.length&&(e.target.classList.remove("active"),e.target.classList.add("passive")),window.innerWidth<=1140&&(V+=-70,x.style.marginLeft=`${V}px`),window.innerWidth<=500&&(V+=-60,x.style.marginLeft=`${V}px`)),e.target.classList.contains("prev")&&W>1&&(W--,I[W].classList.remove("active"),$(D,z.title[W-1],P),$(B,z.text[W-1],P),M.style.width=H[W-1]+"%",W>=1&&(e.target.classList.remove("active"),e.target.classList.add("passive")),window.innerWidth<=1140&&(V+=70,x.style.marginLeft=`${V}px`),window.innerWidth<=500&&(V+=60,x.style.marginLeft=`${V}px`)),W>1&&W<T.length&&A.forEach((e=>{e.classList.remove("passive"),e.classList.add("active")}))}))}));let C=document.querySelector(".modal__partfolio"),O=document.querySelectorAll(".portfolio__item"),Y=document.querySelector(".partfolio__close");const j=()=>document.body.classList.add("no-scroll"),F=()=>document.body.classList.remove("no-scroll");null!==C&&(O.forEach((e=>{e.addEventListener("click",(e=>{C.classList.add("show"),j()}))})),Y.addEventListener("click",(()=>{F(),C.classList.remove("show")})),C.addEventListener("click",(e=>{e.target.classList.remove("show"),e.target.classList.contains("modal")&&F()})));let G=document.querySelector(".modal__services"),J=document.querySelectorAll(".services__item"),K=document.querySelectorAll(".services__close");if(null!==G){J.forEach((e=>{e.addEventListener("click",(e=>{G.classList.add("show"),j()}))}));for(let e=0;e<K.length;e++)K[e].addEventListener("click",(()=>{F(),G.classList.remove("show")}));G.addEventListener("click",(e=>{e.target.classList.remove("show"),e.target.classList.contains("modal")&&F()}))}let N=document.querySelector(".header__wrapp"),Q=document.querySelector(".contact-body");if(window.innerWidth>=790){const e=()=>{window.pageYOffset>110?(N.classList.add("menu--fixed"),Q.classList.add("contact-body--bg")):(N.classList.remove("menu--fixed"),Q.classList.remove("contact-body--bg"))};document.addEventListener("scroll",e),e()}document.querySelectorAll(".pop-up-img").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let s=document.createElement("div"),o=document.createElement("img"),c=e.children[0].children[1].getAttribute("src");document.body.append(s),s.classList.add("pop-img"),s.append(o),o.src=c,o.classList.add("plan__img"),o.classList.add("pop-img__full"),setTimeout((()=>{s.classList.add("anim"),o.classList.add("anim")}),100),j(),s.addEventListener("click",(()=>{s.classList.remove("anim"),o.classList.remove("anim"),setTimeout((()=>{s.remove()}),800),F()}))}))}));let R=document.querySelector(".quiz"),U=document.querySelectorAll(".quiz__anim-inner"),X=document.querySelectorAll(".quiz__contant-inner"),Z=document.querySelector(".quiz__button--first"),ee=document.querySelectorAll(".quiz__next"),te=document.querySelectorAll(".quiz__prev"),se=document.querySelectorAll(".quiz__form-cout-room"),oe=document.querySelectorAll(".quiz__input-room-count"),ce=document.querySelector(".quiz__input-num"),le=document.querySelector(".quiz__input-text"),ie=document.querySelector(".gifts__button"),ne=document.querySelector(".quiz__people-item--parent"),re=document.querySelector(".quiz__people-item--children"),ae=document.querySelector(".quiz__people-item--pet"),de=document.querySelectorAll(".quiz__people-number"),ue=document.querySelector(".quiz__lastform"),me=[0,0,0],_e=[];if(R){ne.addEventListener("click",(e=>{e.target.classList.contains("quiz__people-btn-minus")?me[0]>0&&(me[0]--,de[0].innerHTML=me[0]):e.target.classList.contains("quiz__people-btn-plus")&&me[0]>=0&&(me[0]++,de[0].innerHTML=me[0])})),re.addEventListener("click",(e=>{e.target.classList.contains("quiz__people-btn-minus")?me[1]>0&&(me[1]--,de[1].innerHTML=me[1]):e.target.classList.contains("quiz__people-btn-plus")&&me[1]>=0&&(me[1]++,de[1].innerHTML=me[1])})),ae.addEventListener("click",(e=>{e.target.classList.contains("quiz__people-btn-minus")?me[2]>0&&(me[2]--,de[2].innerHTML=me[2]):e.target.classList.contains("quiz__people-btn-plus")&&me[2]>=0&&(me[2]++,de[2].innerHTML=me[2])})),Z.addEventListener("mouseover",(()=>{U[0].style.transform="rotateY(30deg)"})),Z.addEventListener("mouseleave",(()=>{U[0].style.transform=""})),Z.addEventListener("click",(()=>{U[0].style.transform="",U[0].classList.add("quiz__coup"),setTimeout((()=>{U[1].classList.remove("quiz__passive"),U[0].classList.add("quiz__passive")}),900)})),se.forEach(((e,t)=>{e.addEventListener("submit",(e=>{e.preventDefault()})),e.addEventListener("change",(()=>{oe.forEach(((e,s)=>{e.checked&&"count-room"===e.name&&(_e[0]=e.value,ee[t].classList.remove("quiz__button--passive")),e.checked&&"newbuild"===e.name&&(_e[1]=e.value,ee[t].classList.remove("quiz__button--passive")),"quiz__input-num"===ce.name&&(_e[2]=ce.value,ee[t].classList.remove("quiz__button--passive")),"quiz__input-text"===le.name&&(_e[3]=le.value,ee[t].classList.remove("quiz__button--passive"))}))}))})),ee.forEach(((e,t)=>{e.addEventListener("click",(()=>{t<=4&&(U[t+2].classList.remove("quiz__passive"),U[t+1].classList.add("quiz__passive"))}))})),te.forEach(((e,t)=>{e.addEventListener("click",(()=>{t<=4&&(U[t+2].classList.add("quiz__passive"),U[t+1].classList.remove("quiz__passive"))}))}));let e=document.querySelectorAll(".quiz__input-lastform"),t=document.querySelector(".quiz__lastcheckbox"),s=document.querySelector(".quiz__lastcheckbox-span");ue.addEventListener("submit",(o=>{o.preventDefault();let c=[!1,!1];e.forEach(((o,l)=>{o.value&&o.value.trim()?(o.classList.remove("err"),c[l]=!0):o.classList.add("err"),t.checked||s.classList.add("err"),t.checked&&s.classList.remove("err"),t.checked&&c[0]&&c[1]&&(R.classList.add("quiz--hidden"),X[X.length-1].classList.add("quiz__contant-inner--hidden"),F(),ie.remove(),localStorage.setItem("gift","0"),setTimeout((()=>{R.style.display="none"}),800),console.log("1. Какое количество комнат в квартире?",_e[0]),console.log("2. Новостройка или вторичное жилье?",_e[1]),console.log("3. Площадь вашего объекта",_e[2]),console.log("4. Введите адрес объекта/название ЖК",_e[3]),console.log("5. Укажите Количество проживающих (Сколько человек планирует проживать в квартире?","Взрослые"),console.log("Взрослые",me[0]),console.log("Дети",me[1]),console.log("Петомцы",me[2]),console.log("6. Оставьте, пожалуйста, свои контакты.Это нам нужно для того, чтобы отправить вам планировку."),console.log(e[0].value,"Имя"),console.log(e[1].value,"телефон"))}))})),document.querySelector(".quiz__close").addEventListener("click",(()=>{R.classList.add("quiz--hidden"),X[X.length-1].classList.add("quiz__contant-inner--hidden"),F()})),ie.addEventListener("click",(()=>{j(),X[X.length-1].classList.remove("quiz__contant-inner--hidden"),R.classList.remove("quiz--hidden")})),"0"===localStorage.getItem("gift")&&ie.remove()}}));const swiper=new Swiper(".style-slider",{spaceBetween:30,autoplay:{delay:5e3},loop:!0,pagination:{el:".style__pagination",clickable:!0}}),swipers=new Swiper(".partfolio-slider",{spaceBetween:30,loop:!0,pagination:{el:".style__pagination",clickable:!0}}),servicesSwiper=new Swiper(".services",{breakpoints:{300:{slidesPerView:"auto",spaceBetween:20,centeredSlides:!0,initialSlide:1,loopedSlides:4,slideActiveClass:"services__mobile-active"},600:{slidesPerView:3,spaceBetween:20,centeredSlides:!0,initialSlide:1,slideActiveClass:"services__mobile-active"},700:{slidesPerView:4,spaceBetween:20},1080:{slidesPerView:4,spaceBetween:30}},pagination:{el:".services__pagination",clickable:!0}});